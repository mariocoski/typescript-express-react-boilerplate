{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/server/builders/about.ts","webpack:///./src/server/builders/api.ts","webpack:///./src/server/builders/index.ts","webpack:///./src/server/controllers/about.ts","webpack:///./src/server/controllers/main.tsx","webpack:///./src/server/index.tsx","webpack:///./src/server/routes/api.ts","webpack:///./src/universal/actions/about.ts","webpack:///./src/universal/actions/api.ts","webpack:///./src/universal/actions/index.ts","webpack:///./src/universal/actions/location.ts","webpack:///./src/universal/app/index.tsx","webpack:///./src/universal/components/loading/index.tsx","webpack:///./src/universal/loadable/index.tsx","webpack:///./src/universal/pages/about/index.tsx","webpack:///./src/universal/pages/home/index.tsx","webpack:///./src/universal/reducers/about.ts","webpack:///./src/universal/reducers/api.ts","webpack:///./src/universal/reducers/index.ts","webpack:///./src/universal/reducers/location.ts","webpack:///./src/universal/routes.ts","webpack:///./src/universal/store.ts","webpack:///external \"axios\"","webpack:///external \"babel-polyfill\"","webpack:///external \"express\"","webpack:///external \"react\"","webpack:///external \"react-dom/server\"","webpack:///external \"react-loadable\"","webpack:///external \"react-loadable/webpack\"","webpack:///external \"react-redux\"","webpack:///external \"react-router\"","webpack:///external \"react-router-dom\"","webpack:///external \"redux\"","webpack:///external \"redux-logger\"","webpack:///external \"redux-thunk\"","webpack:///external \"serialize-javascript\""],"names":["buildAbout","description","buildApi","protocol","host","aboutUrl","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","apply","externalApiMock","setTimeout","aboutController","req","res","setHeader","response","send","JSON","stringify","console","log","stats","require","mainController","promises","store","createStore","dispatch","setApiUrls","get","routes","some","match","matchPath","path","route","fetchData","action","push","all","modules","context","html","ReactDOMServer","renderToString","moduleName","url","bundles","getBundles","styles","filter","bundle","file","endsWith","map","style","join","scripts","script","state","getState","initialState","serialize","isJSON","app","express","use","static","routesApi","Loadable","preloadAll","listen","catch","err","router","Router","FETCH_ABOUT_REQUEST","FETCH_ABOUT_FAILURE","FETCH_ABOUT_SUCCESS","fetchAboutRequest","type","isLoading","fetchAboutFailure","fetchAboutSuccess","about","receivedAt","Date","now","fetchDescription","api","axios","data","SET_API_URLS","SET_LOCATION_CHANGED","setLocationChanged","locationChanged","mapStateToProps","ownProps","mapDispatchToProps","App","props","unsubscribeHistory","history","React","Component","withRouter","connect","Loading","timedOut","pastDelay","error","LoadableHome","loader","loading","LoadableAbout","location","About","Home","initialAboutState","Object","assign","initialApiState","combineReducers","initialLocationState","exact","component","loggerMiddleware","createLogger","level","preloadedState","createReduxStore","reducers","applyMiddleware","thunkMiddleware"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","export const buildAbout = (description) => ({\n    description: description\n});\n","export const buildApi = (protocol, host) => ({\n    aboutUrl: `${protocol}://${host}/api/about`\n});\n","export * from \"./api\";\nexport * from \"./about\";\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { buildAbout } from \"../builders\";\nconst externalApiMock = () => {\n    return new Promise(resolve => {\n        const description = \"React code splitting plus server rendering using TypeScript.\";\n        setTimeout(() => resolve(description), 1000);\n    });\n};\nexport default function aboutController(req, res) {\n    return __awaiter(this, void 0, void 0, function* () {\n        res.setHeader(\"Content-Type\", \"application/json\");\n        try {\n            const response = yield externalApiMock();\n            res.send(JSON.stringify(buildAbout(response)));\n        }\n        catch (e) {\n            console.log(e);\n        }\n    });\n}\n","import React from \"react\";\nimport ReactDOMServer from \"react-dom/server\";\nimport Loadable from \"react-loadable\";\nimport { getBundles } from \"react-loadable/webpack\";\nimport { Provider } from \"react-redux\";\nimport { matchPath, StaticRouter } from \"react-router\";\nimport serialize from \"serialize-javascript\";\nimport { setApiUrls } from \"../../universal/actions\";\nimport App from \"../../universal/app\";\nimport { routes } from \"../../universal/routes\";\nimport createStore from \"../../universal/store\";\nimport { buildApi } from \"../builders\";\nconst stats = require(\"../stats/reactLoadable.json\");\nexport default function mainController(req, res) {\n    const promises = [];\n    const store = createStore();\n    store.dispatch(setApiUrls(buildApi(req.protocol, req.get(\"host\"))));\n    routes.some(route => {\n        const match = matchPath(req.path, route);\n        if (match && route.fetchData) {\n            const action = route.fetchData();\n            promises.push(store.dispatch(action));\n        }\n        return !!match;\n    });\n    Promise.all(promises).then(() => {\n        let modules = [];\n        let context = {};\n        const html = ReactDOMServer.renderToString(<Loadable.Capture report={moduleName => modules.push(moduleName)}>\n        <Provider store={store}>\n          <StaticRouter location={req.url} context={context}>\n            <App />\n          </StaticRouter>\n        </Provider>\n      </Loadable.Capture>);\n        const bundles = getBundles(stats, modules);\n        const styles = bundles\n            .filter(bundle => bundle.file.endsWith(\".css\"))\n            .map(style => `<link href=\"/static/${style.file}\" rel=\"stylesheet\"/>`)\n            .join(\"\\n\");\n        const scripts = bundles\n            .filter(bundle => bundle.file.endsWith(\".js\"))\n            .map(script => `<script src=\"/static/js/${script.file}\"></script>`)\n            .join(\"\\n\");\n        const state = store.getState();\n        const initialState = serialize(state, { isJSON: true });\n        res.send(`<!doctype html>\n        <html lang=\"en\">\n            <head>\n                <meta charset=\"UTF-8\">\n                <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n                <meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\">\n                <link rel=\"shortcut icon\" type=\"image/x-icon\" href=\"/static/favicon.ico\">\n                <title>My App</title>\n                ${styles}\n            </head>\n            <body>\n                <div id=\"app\">${html}</div>\n                <script>\n                    window.__INITIAL_STATE__ = ${initialState}\n                </script>\n                <script src=\"/static/js/main.js\"></script>\n                ${scripts}\n                <script>window.main();</script>\n            </body>\n        </html>`);\n    });\n}\n","import \"babel-polyfill\";\nimport express from \"express\";\nimport Loadable from \"react-loadable\";\nimport mainController from \"./controllers/main\";\nimport routesApi from \"./routes/api\";\nconst app = express();\napp.use(\"/static\", express.static(\"static\"));\napp.use(\"/static/js\", express.static(\"client\"));\napp.use(\"/api\", routesApi);\napp.use(mainController);\nLoadable.preloadAll()\n    .then(() => {\n    app.listen(3000, () => {\n        console.log(\"Running on http://localhost:3000/\");\n    });\n})\n    .catch(err => {\n    console.log(err);\n});\n","import express from \"express\";\nimport aboutController from \"../controllers/about\";\nconst router = express.Router();\nrouter.get(\"/about\", aboutController);\nexport default router;\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport axios from \"axios\";\nexport const FETCH_ABOUT_REQUEST = \"FETCH_ABOUT_REQUEST\";\nexport const FETCH_ABOUT_FAILURE = \"FETCH_ABOUT_FAILURE\";\nexport const FETCH_ABOUT_SUCCESS = \"FETCH_ABOUT_SUCCESS\";\nexport const fetchAboutRequest = () => ({\n    type: FETCH_ABOUT_REQUEST,\n    isLoading: true\n});\nexport const fetchAboutFailure = () => ({\n    type: FETCH_ABOUT_FAILURE,\n    isLoading: false\n});\nexport const fetchAboutSuccess = (about) => ({\n    type: FETCH_ABOUT_SUCCESS,\n    receivedAt: Date.now(),\n    description: about.description,\n    isLoading: false\n});\nexport const fetchDescription = () => {\n    return (dispatch, getState) => __awaiter(this, void 0, void 0, function* () {\n        dispatch(fetchAboutRequest());\n        try {\n            const url = getState().api.aboutUrl;\n            const response = yield axios.get(url);\n            dispatch(fetchAboutSuccess(response.data));\n        }\n        catch (e) {\n            console.log(e);\n        }\n    });\n};\n","export const SET_API_URLS = \"SET_API_URLS\";\nexport const setApiUrls = (api) => ({\n    type: SET_API_URLS,\n    aboutUrl: api.aboutUrl\n});\n","export * from \"./about\";\nexport * from \"./location\";\nexport * from \"./api\";\n","export const SET_LOCATION_CHANGED = \"SET_LOCATION_CHANGED\";\nexport const setLocationChanged = () => ({\n    type: SET_LOCATION_CHANGED,\n    locationChanged: true\n});\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { Route, Switch, withRouter } from \"react-router-dom\";\nimport { setLocationChanged } from \"../actions\";\nimport { routes } from \"../routes\";\nconst mapStateToProps = (state, ownProps) => ({});\nconst mapDispatchToProps = (dispatch, ownProps) => ({\n    setLocationChanged: () => dispatch(setLocationChanged())\n});\nclass App extends React.Component {\n    constructor(props) {\n        super(props);\n        const unsubscribeHistory = this.props.history.listen(location => {\n            this.props.setLocationChanged();\n            unsubscribeHistory();\n        });\n    }\n    render() {\n        return (<Switch>\n        {routes.map(route => (<Route {...route} key={route.path}/>))}\n      </Switch>);\n    }\n}\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(App));\n","import React from \"react\";\nexport default function Loading(props) {\n    if (props.isLoading) {\n        if (props.timedOut) {\n            return <p>Loader timed out!</p>;\n        }\n        else if (props.pastDelay) {\n            return <p>Loading...</p>;\n        }\n        else {\n            return null;\n        }\n    }\n    else if (props.error) {\n        return <p>Error! Component failed to load</p>;\n    }\n    else {\n        return null;\n    }\n}\n","import Loadable from \"react-loadable\";\nimport Loading from \"../components/loading\";\nexport const LoadableHome = Loadable({\n    loader: () => import(/* webpackChunkName: \"home\" */ \"../pages/home\"),\n    loading: Loading\n});\nexport const LoadableAbout = Loadable({\n    loader: () => import(/* webpackChunkName: \"about\" */ \"../pages/about\"),\n    loading: Loading\n});\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport { fetchDescription } from \"../../actions\";\nconst mapStateToProps = (state, ownProps) => ({\n    locationChanged: state.location.locationChanged,\n    description: state.about.description,\n    isLoading: state.about.isLoading\n});\nconst mapDispatchToProps = (dispatch, ownProps) => ({\n    fetchDescription: () => {\n        return dispatch(fetchDescription());\n    }\n});\nclass About extends React.Component {\n    constructor(props) {\n        super(props);\n    }\n    componentDidMount() {\n        if (this.props.locationChanged) {\n            this.props.fetchDescription();\n        }\n    }\n    description() {\n        return this.props.isLoading ? <p>Loading...</p> : <p>{this.props.description}</p>;\n    }\n    render() {\n        return (<div>\n        <h1>About</h1>\n        <Link to=\"/\">To Home</Link>\n        {this.description()}\n      </div>);\n    }\n}\nexport default connect(mapStateToProps, mapDispatchToProps)(About);\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nexport default function Home(props) {\n    return (<div>\n            <h1>Home</h1>\n            <Link to=\"/about\">To About</Link>\n        </div>);\n}\n","import { FETCH_ABOUT_FAILURE, FETCH_ABOUT_REQUEST, FETCH_ABOUT_SUCCESS } from \"../actions\";\nconst initialAboutState = () => ({\n    description: \"\",\n    receivedAt: 0,\n    isLoading: false\n});\nexport default function about(state = initialAboutState(), action) {\n    switch (action.type) {\n        case FETCH_ABOUT_REQUEST:\n            return Object.assign({}, state, { isLoading: action.isLoading });\n        case FETCH_ABOUT_SUCCESS:\n            return Object.assign({}, state, { isLoading: action.isLoading, receivedAt: action.receivedAt, description: action.description });\n        case FETCH_ABOUT_FAILURE:\n            return Object.assign({}, state, { isLoading: action.isLoading });\n        default:\n            return state;\n    }\n}\n","import { SET_API_URLS } from \"../actions/api\";\nconst initialApiState = () => ({\n    aboutUrl: \"\"\n});\nexport default function api(state = initialApiState(), action) {\n    switch (action.type) {\n        case SET_API_URLS:\n            return Object.assign({}, state, { aboutUrl: action.aboutUrl });\n        default:\n            return state;\n    }\n}\n","import { combineReducers } from \"redux\";\nimport about from \"./about\";\nimport api from \"./api\";\nimport location from \"./location\";\nexport default combineReducers({\n    about: about,\n    location: location,\n    api: api\n});\n","import { SET_LOCATION_CHANGED } from \"../actions\";\nconst initialLocationState = () => ({\n    locationChanged: false\n});\nexport default function location(state = initialLocationState(), action) {\n    switch (action.type) {\n        case SET_LOCATION_CHANGED:\n            return Object.assign({}, state, { locationChanged: action.locationChanged });\n        default:\n            return state;\n    }\n}\n","import { fetchDescription } from \"./actions\";\nimport { LoadableAbout, LoadableHome } from \"./loadable\";\nexport const routes = [\n    {\n        path: \"/\",\n        exact: true,\n        component: LoadableHome\n    },\n    {\n        path: \"/about\",\n        component: LoadableAbout,\n        fetchData: fetchDescription\n    }\n];\n","import { applyMiddleware, createStore as createReduxStore } from \"redux\";\nimport { createLogger } from \"redux-logger\";\nimport thunkMiddleware from \"redux-thunk\";\nimport reducers from \"./reducers\";\nconst loggerMiddleware = createLogger({\n    level: \"info\"\n});\nexport default function createStore(preloadedState) {\n    return preloadedState\n        ? createReduxStore(reducers, preloadedState, applyMiddleware(thunkMiddleware, loggerMiddleware))\n        : createReduxStore(reducers, applyMiddleware(thunkMiddleware, loggerMiddleware));\n}\n","module.exports = require(\"axios\");","module.exports = require(\"babel-polyfill\");","module.exports = require(\"express\");","module.exports = require(\"react\");","module.exports = require(\"react-dom/server\");","module.exports = require(\"react-loadable\");","module.exports = require(\"react-loadable/webpack\");","module.exports = require(\"react-redux\");","module.exports = require(\"react-router\");","module.exports = require(\"react-router-dom\");","module.exports = require(\"redux\");","module.exports = require(\"redux-logger\");","module.exports = require(\"redux-thunk\");","module.exports = require(\"serialize-javascript\");"],"sourceRoot":""}